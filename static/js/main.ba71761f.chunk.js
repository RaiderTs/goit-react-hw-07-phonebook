(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{10:function(t,e,n){t.exports={form:"Form_form__1maew",label:"Form_label__mDo1M",input:"Form_input__3uhBe",button:"Form_button__18UtN"}},14:function(t,e,n){t.exports={list:"ContactList_list__7Qx1i",item:"ContactList_item__3WunX",btn:"ContactList_btn__3OyTg"}},21:function(t,e,n){t.exports={label:"Filter_label__sGjTH",input:"Filter_input__28Vcm"}},36:function(t,e,n){t.exports={ErrorWrapper:"Loader_ErrorWrapper__4CIaG",text:"Loader_text__Be416"}},49:function(t,e,n){},88:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n(0),r=n.n(a),o=n(8),u=n.n(o),i=n(7),s=(n(49),n(22)),b=n(13),j=n.n(b),l=n(4),O=Object(l.a)("contact/Filter"),f=Object(l.a)("contact/fetchRequest"),h=Object(l.a)("contact/fetchSuccess"),d=Object(l.a)("contact/fetchError"),m=Object(l.a)("contact/addRequest"),p=Object(l.a)("contact/addSuccess"),x=Object(l.a)("contact/addError"),_=Object(l.a)("contact/deleteRequest"),v=Object(l.a)("contact/deleteSuccess"),g=Object(l.a)("contact/deleteError");j.a.defaults.baseURL="http://localhost:4000/";var y=n(15),N=function(t){return t.contacts.items},C=function(t){return t.contacts.filter},w=function(t){return t.contacts.loading},E=function(t){return t.contacts.error},L=Object(y.a)([N,C],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),F=n(10),S=n.n(F),k=n(17),q=(n(32),function(){var t=Object(i.b)(),e=Object(i.c)(N),n=Object(a.useState)(""),r=Object(s.a)(n,2),o=r[0],u=r[1],b=Object(a.useState)(""),l=Object(s.a)(b,2),O=l[0],f=l[1],h=function(t){var e=t.target,n=e.name,c=e.value;switch(n){case"name":u(c);break;case"phone":f(c)}},d=function(t){var n=t.toLowerCase();return e.find((function(t){return t.name.toLowerCase()===n}))}(o),_=function(){u(""),f("")};return Object(c.jsxs)("form",{className:S.a.form,onSubmit:function(e){(e.preventDefault(),d)?k.b.error("".concat(o," is already in contacts list")):t(function(t){var e=t.name,n=t.phone;return function(t){t(m()),j.a.post("contacts",{name:e,phone:n}).then((function(e){var n=e.data;return t(p(n))})).catch((function(e){return t(x(e.message))}))}}({name:o,phone:O}));_()},children:[Object(c.jsxs)("label",{className:S.a.label,children:["Name",Object(c.jsx)("input",{className:S.a.input,type:"text",name:"name",placeholder:"Enter name",value:o,onChange:h,required:!0})]}),Object(c.jsxs)("label",{className:S.a.label,children:["Phone",Object(c.jsx)("input",{className:S.a.input,type:"tel",name:"phone",placeholder:"Enter phone number",value:O,onChange:h,required:!0})]}),Object(c.jsx)("button",{className:S.a.button,type:"submit",children:"Add contact"})]})}),R=n(14),T=n.n(R),B=n(35),D=n.n(B),W=(n(87),n(36)),G=n.n(W);var I=function(){return Object(c.jsx)("div",{className:G.a.overlay,children:Object(c.jsx)(D.a,{type:"ThreeDots",color:"rgba(255,255,51,0.2)",height:100,width:100,timeout:3e3})})},J=function(){var t=Object(i.b)(),e=Object(i.c)(L),n=Object(i.c)(w),r=Object(i.c)(E);return Object(a.useEffect)((function(){t((function(t){t(f()),j.a.get("contacts").then((function(e){var n=e.data;return t(h(n))})).catch((function(e){return t(d(e.message))}))}))}),[t]),Object(c.jsxs)(c.Fragment,{children:[n&&Object(c.jsx)(I,{}),r&&Object(c.jsxs)("error",{children:["Something went wrong... ",r,"! Try again later!"]}),!n&&!r&&e&&e.length>0?Object(c.jsx)("ul",{className:T.a.list,children:e.map((function(e){var n=e.id,a=e.name,r=e.phone;return Object(c.jsxs)("li",{className:T.a.item,children:[Object(c.jsxs)("p",{className:T.a.info,children:[a,": ",r]}),Object(c.jsx)("button",{className:T.a.btn,onClick:function(){return t(function(t){return function(e){e(_()),j.a.delete("contacts/".concat(t)).then((function(){return e(v(t))})).catch((function(t){return e(g(t.message))}))}}(n))},children:"Remove"})]},n)}))}):null]})},M=n(21),P=n.n(M),U=function(){var t=Object(i.b)(),e=Object(i.c)(C);return Object(c.jsxs)("label",{className:P.a.label,children:["Enter name for search",Object(c.jsx)("input",{className:P.a.input,type:"text",name:"filter",value:e,onChange:function(e){return t(O(e.target.value))},placeholder:"Enter a name to search"})]})};function A(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"Phonebook"}),Object(c.jsx)(q,{}),Object(c.jsx)("h2",{children:"Contacts List"}),Object(c.jsx)(U,{}),Object(c.jsx)(J,{}),Object(c.jsx)(k.a,{autoClose:3e3})]})}var H,Q,V,X=n(6),z=n(12),K=n(2),Y=n(23),Z=Object(l.b)([],(H={},Object(K.a)(H,h,(function(t,e){var n=e.payload;return Object(Y.a)(n)})),Object(K.a)(H,p,(function(t,e){var n=e.payload;return[].concat(Object(Y.a)(t),[n])})),Object(K.a)(H,v,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),H)),$=Object(l.b)("",Object(K.a)({},O.type,(function(t,e){return e.payload}))),tt=Object(l.b)(!1,(Q={},Object(K.a)(Q,f,(function(){return!0})),Object(K.a)(Q,h,(function(){return!1})),Object(K.a)(Q,d,(function(){return!1})),Object(K.a)(Q,m,(function(){return!0})),Object(K.a)(Q,p,(function(){return!1})),Object(K.a)(Q,x,(function(){return!1})),Object(K.a)(Q,_,(function(){return!0})),Object(K.a)(Q,v,(function(){return!1})),Object(K.a)(Q,g,(function(){return!1})),Q)),et=Object(l.b)(!1,(V={},Object(K.a)(V,f,(function(){return""})),Object(K.a)(V,h,(function(){return""})),Object(K.a)(V,d,(function(t,e){return e.payload})),Object(K.a)(V,m,(function(){return""})),Object(K.a)(V,p,(function(){return""})),Object(K.a)(V,x,(function(t,e){return e.payload})),Object(K.a)(V,_,(function(){return""})),Object(K.a)(V,v,(function(){return""})),Object(K.a)(V,g,(function(t,e){return e.payload})),V)),nt=Object(X.c)({items:Z,filter:$,loading:tt,error:et}),ct=Object(X.c)({contacts:nt}),at=Object(X.e)(ct,Object(X.a)(z.a));u.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(i.a,{store:at,children:Object(c.jsx)(A,{})})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.ba71761f.chunk.js.map